# Documentação da API

## Visão geral
A aplicação permite a criação, recuperação, atualização e remoção de tarefas.

## Rotas e suas funcionalidades

Todas as rotas que contém um id, são do seguinte formato:

| Parâmetro | Tipo       | Descrição                           |
|:----------| :--------- | :---------------------------------- |
| `id`      | `Long` | **Obrigatório**. O identificador exclusivo do que se refere, por exemplo, identificador exclusivo da postagem. |

- Tarefas
    - Criar uma tarefa: **`POST /tarefas`**
    - Obter uma tarefa específica: **`GET /tarefas/{id}`**
    - Listar todas as tarefas: **`GET /tarefas`**
      - Pode receber um parâmetro chamado de filtro, o qual pode ser *hoje*, *atrasada* ou *em_andamento*
    - Atualizar uma tarefa: **`PUT /tarefas/{id}`**
    - Remover uma tarefa: **`DELETE /tarefas/{id}`**
    - Concluir uma tarefa: **`PATCH /tarefas/{id}/concluir`**

## Dados do banco

### Schema

- Pode ser acessado na pasta db no diretório raiz do projeto, no arquivo chamado 'script.sql' ou pode ser acessado abaixo também:

<details>
  <summary>Script do banco de dados</summary>
<pre>
DROP TABLE IF EXISTS usuario CASCADE;
DROP TABLE IF EXISTS task CASCADE;

CREATE TABLE usuario (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    nome VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL,
    telefone VARCHAR(14) NOT NULL,
    senha VARCHAR(100) NOT NULL,
    ativo BOOLEAN NOT NULL,
	points INTEGER default(0),
    foto VARCHAR(255)
);
ALTER TABLE usuario ADD CONSTRAINT pk_usuario PRIMARY KEY (id);
ALTER TABLE usuario ADD CONSTRAINT uk_usuario_email UNIQUE(email);
ALTER TABLE usuario ADD CONSTRAINT uk_usuario_telefone UNIQUE(telefone);

CREATE TABLE task (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    title VARCHAR(100) NOT NULL,
    description TEXT,
    created_at TIMESTAMP NOT NULL,
    deadline_date TIMESTAMP NOT NULL,
    priority VARCHAR(10) NOT NULL,
    status VARCHAR(20) NOT NULL,
    user_id BIGINT NOT NULL,
    finish_date DATE
);
ALTER TABLE task ADD CONSTRAINT pk_task PRIMARY KEY (id);
ALTER TABLE task ADD CONSTRAINT fk_task_user FOREIGN KEY (user_id) REFERENCES Usuario (id);
ALTER TABLE task ADD CONSTRAINT ck_task_priority CHECK(priority in('LOW', 'AVERAGE', 'HIGH'));
ALTER TABLE task ADD CONSTRAINT ck_task_status CHECK(status in('IN_PROGRESS', 'COMPLETED');

</pre>
</details>

### Inserts Iniciais

- Todas as funcionalidades estão disponíveis na aplicação, então podem ser adicionados diretamente pelas funcionalidades do Front End
